{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Proyectos/Mul/mul-front/app/utils/Sincronario.ts"],"sourcesContent":["// --- 13 LUNAS ---\r\n\r\n/**\r\n * Calcula la fecha en el calendario de 13 Lunas/28 Días.\r\n * @param date La fecha para calcular.\r\n * @returns Un objeto con 'moon' (number | null) y 'day' (number | null), \r\n * o un objeto con una propiedad 'special' si es el Día Fuera del Tiempo.\r\n */\r\nexport function get13Moon(date: Date): { moon: number | null, day: number | null, special?: string } {\r\n  // El año del Calendario de 13 Lunas comienza el 26 de julio (Mes 7 es índice 6 en JS)\r\n  const yearStart = new Date(date.getFullYear(), 6, 26); \r\n  \r\n  // Calcula la diferencia en días desde el 26 de julio.\r\n  // 86400000 es el número de milisegundos en un día.\r\n  let diff = Math.floor((date.getTime() - yearStart.getTime()) / 86400000);\r\n\r\n  // Si el cálculo es negativo, significa que estamos antes del 26 de julio de este año,\r\n  // así que calculamos la diferencia respecto al inicio del año anterior.\r\n  if (diff < 0) {\r\n    const prevStart = new Date(date.getFullYear() - 1, 6, 26);\r\n    diff = Math.floor((date.getTime() - prevStart.getTime()) / 86400000);\r\n  }\r\n\r\n  // El día número 364 es el \"Día Fuera del Tiempo\"\r\n  if (diff === 364) {\r\n    return { day: null, moon: null, special: \"Día Fuera del Tiempo\" };\r\n  }\r\n\r\n  // El calendario tiene 13 Lunas de 28 días (13 * 28 = 364)\r\n  const moon = Math.floor(diff / 28) + 1;\r\n  const day = (diff % 28) + 1;\r\n\r\n  return { moon, day };\r\n}\r\n\r\n// --- FASE LUNAR REAL ---\r\n\r\n/**\r\n * Calcula la fase lunar real para una fecha dada.\r\n * @param date La fecha y hora para calcular la fase.\r\n * @returns La fase lunar como una cadena de texto.\r\n */\r\nexport function getLunarPhase(date: Date): string {\r\n  // Duración promedio del ciclo lunar sinódico en segundos\r\n  const lp: number = 2551443; \r\n  // La referencia es la Luna Nueva del 1 de enero de 2001 (en segundos Unix).\r\n  const newMoonRef: number = new Date(\"2001-01-01T00:00:00Z\").getTime() / 1000;\r\n\r\n  // Tiempo actual en segundos Unix.\r\n  const now: number = date.getTime() / 1000;\r\n  \r\n  // Calcula la proporción (0.0 a 1.0) del ciclo lunar completado.\r\n  const phase: number = ((now - newMoonRef) % lp) / lp;\r\n\r\n  if (phase < 0.03) return \"Luna Nueva\"; \r\n  if (phase < 0.22) return \"Creciente\";\r\n  if (phase < 0.28) return \"Cuarto Creciente\"; \r\n  if (phase < 0.47) return \"Gibosa Creciente\";\r\n  if (phase < 0.53) return \"Luna Llena\"; \r\n  if (phase < 0.72) return \"Gibosa Menguante\";\r\n  if (phase < 0.78) return \"Cuarto Menguante\"; \r\n  return \"Menguante\"; \r\n}"],"names":[],"mappings":"AAAA,mBAAmB;AAEnB;;;;;CAKC;;;;;;AACM,SAAS,UAAU,IAAU;IAClC,sFAAsF;IACtF,MAAM,YAAY,IAAI,KAAK,KAAK,WAAW,IAAI,GAAG;IAElD,sDAAsD;IACtD,mDAAmD;IACnD,IAAI,OAAO,KAAK,KAAK,CAAC,CAAC,KAAK,OAAO,KAAK,UAAU,OAAO,EAAE,IAAI;IAE/D,sFAAsF;IACtF,wEAAwE;IACxE,IAAI,OAAO,GAAG;QACZ,MAAM,YAAY,IAAI,KAAK,KAAK,WAAW,KAAK,GAAG,GAAG;QACtD,OAAO,KAAK,KAAK,CAAC,CAAC,KAAK,OAAO,KAAK,UAAU,OAAO,EAAE,IAAI;IAC7D;IAEA,iDAAiD;IACjD,IAAI,SAAS,KAAK;QAChB,OAAO;YAAE,KAAK;YAAM,MAAM;YAAM,SAAS;QAAuB;IAClE;IAEA,0DAA0D;IAC1D,MAAM,OAAO,KAAK,KAAK,CAAC,OAAO,MAAM;IACrC,MAAM,MAAM,AAAC,OAAO,KAAM;IAE1B,OAAO;QAAE;QAAM;IAAI;AACrB;AASO,SAAS,cAAc,IAAU;IACtC,yDAAyD;IACzD,MAAM,KAAa;IACnB,4EAA4E;IAC5E,MAAM,aAAqB,IAAI,KAAK,wBAAwB,OAAO,KAAK;IAExE,kCAAkC;IAClC,MAAM,MAAc,KAAK,OAAO,KAAK;IAErC,gEAAgE;IAChE,MAAM,QAAgB,AAAC,CAAC,MAAM,UAAU,IAAI,KAAM;IAElD,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,IAAI,QAAQ,MAAM,OAAO;IACzB,OAAO;AACT"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///E:/Proyectos/Mul/mul-front/app/components/SincronarioCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { get13Moon, getLunarPhase } from \"../utils/Sincronario\";\r\nimport React from \"react\";\r\n\r\ninterface SincronarioData {\r\n  diaNombre: string;\r\n  diaNumero: number;\r\n  moon: number | null;\r\n  special: string | null;\r\n  fase: string;\r\n}\r\n\r\nexport default function SincronarioCard() {\r\n  const [data] = React.useState<SincronarioData>(() => {\r\n    const today = new Date();\r\n    const dias = [\r\n      \"Domingo\",\r\n      \"Lunes\",\r\n      \"Martes\",\r\n      \"Miércoles\",\r\n      \"Jueves\",\r\n      \"Viernes\",\r\n      \"Sábado\",\r\n    ];\r\n\r\n    const { moon, day, special } = get13Moon(today);\r\n    const fase = getLunarPhase(today);\r\n\r\n    return {\r\n      diaNombre: dias[today.getDay()],\r\n      diaNumero: day ?? 0,\r\n      moon: moon ?? 0,\r\n      special: special || null,\r\n      fase,\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: 320,\r\n        border: \"2px solid #555\",\r\n        padding: 10,\r\n        borderRadius: 8,\r\n        fontFamily: \"Arial, sans-serif\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <h3 style={{ marginBottom: 15 }}>Sincronario de 13 Lunas</h3>\r\n\r\n      {/* --- Tabla --- */}\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"1fr 1fr 1fr\",\r\n          gap: 5,\r\n        }}\r\n      >\r\n        {/* Cabeceras */}\r\n        <div style={headerStyle}>Día</div>\r\n        <div style={headerStyle}>Num</div>\r\n        <div style={headerStyle}>Luna</div>\r\n\r\n        {/* Valores del día */}\r\n        <div style={cellStyle}>{data.diaNombre}</div>\r\n        <div style={cellStyle}>{data.diaNumero}</div>\r\n        <div style={cellStyle}>{data.moon}</div>\r\n      </div>\r\n\r\n      {/* Fase lunar */}\r\n      <p style={{ marginTop: 15, fontWeight: \"bold\" }}>\r\n        Fase Lunar: {data.fase}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Estilos reutilizables ---\r\nconst headerStyle: React.CSSProperties = {\r\n  border: \"1px solid #333\",\r\n  padding: \"5px 0\",\r\n  fontWeight: \"bold\",\r\n  background: \"#000\",\r\n};\r\n\r\nconst cellStyle: React.CSSProperties = {\r\n  border: \"1px solid #333\",\r\n  padding: \"6px 0\",\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAae,SAAS;;IACtB,MAAM,CAAC,KAAK,GAAG,wKAAK,CAAC,QAAQ;oCAAkB;YAC7C,MAAM,QAAQ,IAAI;YAClB,MAAM,OAAO;gBACX;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YAED,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,IAAA,2IAAS,EAAC;YACzC,MAAM,OAAO,IAAA,+IAAa,EAAC;YAE3B,OAAO;gBACL,WAAW,IAAI,CAAC,MAAM,MAAM,GAAG;gBAC/B,WAAW,OAAO;gBAClB,MAAM,QAAQ;gBACd,SAAS,WAAW;gBACpB;YACF;QACF;;IAEA,qBACE,6LAAC;QACC,OAAO;YACL,OAAO;YACP,QAAQ;YACR,SAAS;YACT,cAAc;YACd,YAAY;YACZ,WAAW;QACb;;0BAEA,6LAAC;gBAAG,OAAO;oBAAE,cAAc;gBAAG;0BAAG;;;;;;0BAGjC,6LAAC;gBACC,OAAO;oBACL,SAAS;oBACT,qBAAqB;oBACrB,KAAK;gBACP;;kCAGA,6LAAC;wBAAI,OAAO;kCAAa;;;;;;kCACzB,6LAAC;wBAAI,OAAO;kCAAa;;;;;;kCACzB,6LAAC;wBAAI,OAAO;kCAAa;;;;;;kCAGzB,6LAAC;wBAAI,OAAO;kCAAY,KAAK,SAAS;;;;;;kCACtC,6LAAC;wBAAI,OAAO;kCAAY,KAAK,SAAS;;;;;;kCACtC,6LAAC;wBAAI,OAAO;kCAAY,KAAK,IAAI;;;;;;;;;;;;0BAInC,6LAAC;gBAAE,OAAO;oBAAE,WAAW;oBAAI,YAAY;gBAAO;;oBAAG;oBAClC,KAAK,IAAI;;;;;;;;;;;;;AAI9B;GA/DwB;KAAA;AAiExB,gCAAgC;AAChC,MAAM,cAAmC;IACvC,QAAQ;IACR,SAAS;IACT,YAAY;IACZ,YAAY;AACd;AAEA,MAAM,YAAiC;IACrC,QAAQ;IACR,SAAS;AACX"}}]
}